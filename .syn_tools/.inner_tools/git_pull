#!/bin/bash

echo "\$0:$0"
echo "\$1:$1"
targetDir=$1


get_current_date (){
	echo $(date '+%Y-%m-%d %H:%M:%S')
}

push_stash () {
	echo "git stash push..." 
	git stash push
}

pop_stash () {
	echo "git stash pop..." 
	git stash pop
}

# batch_sh æ‰¹é‡åŒæ­¥å‘½ä»¤ï¼ˆç»™crontabç”¨ï¼‰
stash_and_pull(){
	cd $targetDir
	echo "git stash push..."
	git add *
	git stash push
	echo "git pull..."
	git pull
	echo "git stash pop..."
	git stash pop
}



echo "---------------ğŸ”»ğŸ”»ğŸ”»ğŸ”»ğŸ”» pull å¼€å§‹æ‰§è¡Œ[$(get_current_date)] ğŸ”»ğŸ”»ğŸ”»ğŸ”» ----------------"


# shellDir=$(dirname $0)
# cd "$shellDir"

stash_and_pull

echo  "--------------- ğŸ”»ğŸ”»ğŸ”»ğŸ”» pull æ‰§è¡Œç»“æŸæ—¶é—´[$(get_current_date)] ğŸ”»ğŸ”»ğŸ”»ğŸ”» ----------------"
echo ""